{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _typeof = require(\"@babel/runtime/helpers/typeof\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _select = _interopRequireDefault(require(\"../select\"));\n\nvar _radio = require(\"../radio\");\n\nfunction _getRequireWildcardCache(nodeInterop) {\n  if (typeof WeakMap !== \"function\") return null;\n  var cacheBabelInterop = new WeakMap();\n  var cacheNodeInterop = new WeakMap();\n  return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) {\n    return nodeInterop ? cacheNodeInterop : cacheBabelInterop;\n  })(nodeInterop);\n}\n\nfunction _interopRequireWildcard(obj, nodeInterop) {\n  if (!nodeInterop && obj && obj.__esModule) {\n    return obj;\n  }\n\n  if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") {\n    return {\n      \"default\": obj\n    };\n  }\n\n  var cache = _getRequireWildcardCache(nodeInterop);\n\n  if (cache && cache.has(obj)) {\n    return cache.get(obj);\n  }\n\n  var newObj = {};\n  var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;\n\n  for (var key in obj) {\n    if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) {\n      var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;\n\n      if (desc && (desc.get || desc.set)) {\n        Object.defineProperty(newObj, key, desc);\n      } else {\n        newObj[key] = obj[key];\n      }\n    }\n  }\n\n  newObj[\"default\"] = obj;\n\n  if (cache) {\n    cache.set(obj, newObj);\n  }\n\n  return newObj;\n}\n\nvar YearSelectOffset = 10;\nvar YearSelectTotal = 20;\n\nfunction YearSelect(props) {\n  var fullscreen = props.fullscreen,\n      validRange = props.validRange,\n      generateConfig = props.generateConfig,\n      locale = props.locale,\n      prefixCls = props.prefixCls,\n      value = props.value,\n      _onChange = props.onChange,\n      divRef = props.divRef;\n  var year = generateConfig.getYear(value || generateConfig.getNow());\n  var start = year - YearSelectOffset;\n  var end = start + YearSelectTotal;\n\n  if (validRange) {\n    start = generateConfig.getYear(validRange[0]);\n    end = generateConfig.getYear(validRange[1]) + 1;\n  }\n\n  var suffix = locale && locale.year === '年' ? '年' : '';\n  var options = [];\n\n  for (var index = start; index < end; index++) {\n    options.push({\n      label: \"\".concat(index).concat(suffix),\n      value: index\n    });\n  }\n\n  return /*#__PURE__*/React.createElement(_select[\"default\"], {\n    size: fullscreen ? undefined : 'small',\n    options: options,\n    value: year,\n    className: \"\".concat(prefixCls, \"-year-select\"),\n    onChange: function onChange(numYear) {\n      var newDate = generateConfig.setYear(value, numYear);\n\n      if (validRange) {\n        var _validRange = (0, _slicedToArray2[\"default\"])(validRange, 2),\n            startDate = _validRange[0],\n            endDate = _validRange[1];\n\n        var newYear = generateConfig.getYear(newDate);\n        var newMonth = generateConfig.getMonth(newDate);\n\n        if (newYear === generateConfig.getYear(endDate) && newMonth > generateConfig.getMonth(endDate)) {\n          newDate = generateConfig.setMonth(newDate, generateConfig.getMonth(endDate));\n        }\n\n        if (newYear === generateConfig.getYear(startDate) && newMonth < generateConfig.getMonth(startDate)) {\n          newDate = generateConfig.setMonth(newDate, generateConfig.getMonth(startDate));\n        }\n      }\n\n      _onChange(newDate);\n    },\n    getPopupContainer: function getPopupContainer() {\n      return divRef.current;\n    }\n  });\n}\n\nfunction MonthSelect(props) {\n  var prefixCls = props.prefixCls,\n      fullscreen = props.fullscreen,\n      validRange = props.validRange,\n      value = props.value,\n      generateConfig = props.generateConfig,\n      locale = props.locale,\n      _onChange2 = props.onChange,\n      divRef = props.divRef;\n  var month = generateConfig.getMonth(value || generateConfig.getNow());\n  var start = 0;\n  var end = 11;\n\n  if (validRange) {\n    var _validRange2 = (0, _slicedToArray2[\"default\"])(validRange, 2),\n        rangeStart = _validRange2[0],\n        rangeEnd = _validRange2[1];\n\n    var currentYear = generateConfig.getYear(value);\n\n    if (generateConfig.getYear(rangeEnd) === currentYear) {\n      end = generateConfig.getMonth(rangeEnd);\n    }\n\n    if (generateConfig.getYear(rangeStart) === currentYear) {\n      start = generateConfig.getMonth(rangeStart);\n    }\n  }\n\n  var months = locale.shortMonths || generateConfig.locale.getShortMonths(locale.locale);\n  var options = [];\n\n  for (var index = start; index <= end; index += 1) {\n    options.push({\n      label: months[index],\n      value: index\n    });\n  }\n\n  return /*#__PURE__*/React.createElement(_select[\"default\"], {\n    size: fullscreen ? undefined : 'small',\n    className: \"\".concat(prefixCls, \"-month-select\"),\n    value: month,\n    options: options,\n    onChange: function onChange(newMonth) {\n      _onChange2(generateConfig.setMonth(value, newMonth));\n    },\n    getPopupContainer: function getPopupContainer() {\n      return divRef.current;\n    }\n  });\n}\n\nfunction ModeSwitch(props) {\n  var prefixCls = props.prefixCls,\n      locale = props.locale,\n      mode = props.mode,\n      fullscreen = props.fullscreen,\n      onModeChange = props.onModeChange;\n  return /*#__PURE__*/React.createElement(_radio.Group, {\n    onChange: function onChange(_ref) {\n      var value = _ref.target.value;\n      onModeChange(value);\n    },\n    value: mode,\n    size: fullscreen ? undefined : 'small',\n    className: \"\".concat(prefixCls, \"-mode-switch\")\n  }, /*#__PURE__*/React.createElement(_radio.Button, {\n    value: \"month\"\n  }, locale.month), /*#__PURE__*/React.createElement(_radio.Button, {\n    value: \"year\"\n  }, locale.year));\n}\n\nfunction CalendarHeader(props) {\n  var prefixCls = props.prefixCls,\n      fullscreen = props.fullscreen,\n      mode = props.mode,\n      onChange = props.onChange,\n      onModeChange = props.onModeChange;\n  var divRef = React.useRef(null);\n  var sharedProps = (0, _extends2[\"default\"])((0, _extends2[\"default\"])({}, props), {\n    onChange: onChange,\n    fullscreen: fullscreen,\n    divRef: divRef\n  });\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"\".concat(prefixCls, \"-header\"),\n    ref: divRef\n  }, /*#__PURE__*/React.createElement(YearSelect, sharedProps), mode === 'month' && /*#__PURE__*/React.createElement(MonthSelect, sharedProps), /*#__PURE__*/React.createElement(ModeSwitch, (0, _extends2[\"default\"])({}, sharedProps, {\n    onModeChange: onModeChange\n  })));\n}\n\nvar _default = CalendarHeader;\nexports[\"default\"] = _default;","map":{"version":3,"sources":["C:/Users/FR/Desktop/redux_study/node_modules/antd/lib/calendar/Header.js"],"names":["_interopRequireDefault","require","_typeof","Object","defineProperty","exports","value","_extends2","_slicedToArray2","React","_interopRequireWildcard","_select","_radio","_getRequireWildcardCache","nodeInterop","WeakMap","cacheBabelInterop","cacheNodeInterop","obj","__esModule","cache","has","get","newObj","hasPropertyDescriptor","getOwnPropertyDescriptor","key","prototype","hasOwnProperty","call","desc","set","YearSelectOffset","YearSelectTotal","YearSelect","props","fullscreen","validRange","generateConfig","locale","prefixCls","_onChange","onChange","divRef","year","getYear","getNow","start","end","suffix","options","index","push","label","concat","createElement","size","undefined","className","numYear","newDate","setYear","_validRange","startDate","endDate","newYear","newMonth","getMonth","setMonth","getPopupContainer","current","MonthSelect","_onChange2","month","_validRange2","rangeStart","rangeEnd","currentYear","months","shortMonths","getShortMonths","ModeSwitch","mode","onModeChange","Group","_ref","target","Button","CalendarHeader","useRef","sharedProps","ref","_default"],"mappings":"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","sourcesContent":["\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _typeof = require(\"@babel/runtime/helpers/typeof\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _select = _interopRequireDefault(require(\"../select\"));\n\nvar _radio = require(\"../radio\");\n\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") { return { \"default\": obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj[\"default\"] = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nvar YearSelectOffset = 10;\nvar YearSelectTotal = 20;\n\nfunction YearSelect(props) {\n  var fullscreen = props.fullscreen,\n      validRange = props.validRange,\n      generateConfig = props.generateConfig,\n      locale = props.locale,\n      prefixCls = props.prefixCls,\n      value = props.value,\n      _onChange = props.onChange,\n      divRef = props.divRef;\n  var year = generateConfig.getYear(value || generateConfig.getNow());\n  var start = year - YearSelectOffset;\n  var end = start + YearSelectTotal;\n\n  if (validRange) {\n    start = generateConfig.getYear(validRange[0]);\n    end = generateConfig.getYear(validRange[1]) + 1;\n  }\n\n  var suffix = locale && locale.year === '年' ? '年' : '';\n  var options = [];\n\n  for (var index = start; index < end; index++) {\n    options.push({\n      label: \"\".concat(index).concat(suffix),\n      value: index\n    });\n  }\n\n  return /*#__PURE__*/React.createElement(_select[\"default\"], {\n    size: fullscreen ? undefined : 'small',\n    options: options,\n    value: year,\n    className: \"\".concat(prefixCls, \"-year-select\"),\n    onChange: function onChange(numYear) {\n      var newDate = generateConfig.setYear(value, numYear);\n\n      if (validRange) {\n        var _validRange = (0, _slicedToArray2[\"default\"])(validRange, 2),\n            startDate = _validRange[0],\n            endDate = _validRange[1];\n\n        var newYear = generateConfig.getYear(newDate);\n        var newMonth = generateConfig.getMonth(newDate);\n\n        if (newYear === generateConfig.getYear(endDate) && newMonth > generateConfig.getMonth(endDate)) {\n          newDate = generateConfig.setMonth(newDate, generateConfig.getMonth(endDate));\n        }\n\n        if (newYear === generateConfig.getYear(startDate) && newMonth < generateConfig.getMonth(startDate)) {\n          newDate = generateConfig.setMonth(newDate, generateConfig.getMonth(startDate));\n        }\n      }\n\n      _onChange(newDate);\n    },\n    getPopupContainer: function getPopupContainer() {\n      return divRef.current;\n    }\n  });\n}\n\nfunction MonthSelect(props) {\n  var prefixCls = props.prefixCls,\n      fullscreen = props.fullscreen,\n      validRange = props.validRange,\n      value = props.value,\n      generateConfig = props.generateConfig,\n      locale = props.locale,\n      _onChange2 = props.onChange,\n      divRef = props.divRef;\n  var month = generateConfig.getMonth(value || generateConfig.getNow());\n  var start = 0;\n  var end = 11;\n\n  if (validRange) {\n    var _validRange2 = (0, _slicedToArray2[\"default\"])(validRange, 2),\n        rangeStart = _validRange2[0],\n        rangeEnd = _validRange2[1];\n\n    var currentYear = generateConfig.getYear(value);\n\n    if (generateConfig.getYear(rangeEnd) === currentYear) {\n      end = generateConfig.getMonth(rangeEnd);\n    }\n\n    if (generateConfig.getYear(rangeStart) === currentYear) {\n      start = generateConfig.getMonth(rangeStart);\n    }\n  }\n\n  var months = locale.shortMonths || generateConfig.locale.getShortMonths(locale.locale);\n  var options = [];\n\n  for (var index = start; index <= end; index += 1) {\n    options.push({\n      label: months[index],\n      value: index\n    });\n  }\n\n  return /*#__PURE__*/React.createElement(_select[\"default\"], {\n    size: fullscreen ? undefined : 'small',\n    className: \"\".concat(prefixCls, \"-month-select\"),\n    value: month,\n    options: options,\n    onChange: function onChange(newMonth) {\n      _onChange2(generateConfig.setMonth(value, newMonth));\n    },\n    getPopupContainer: function getPopupContainer() {\n      return divRef.current;\n    }\n  });\n}\n\nfunction ModeSwitch(props) {\n  var prefixCls = props.prefixCls,\n      locale = props.locale,\n      mode = props.mode,\n      fullscreen = props.fullscreen,\n      onModeChange = props.onModeChange;\n  return /*#__PURE__*/React.createElement(_radio.Group, {\n    onChange: function onChange(_ref) {\n      var value = _ref.target.value;\n      onModeChange(value);\n    },\n    value: mode,\n    size: fullscreen ? undefined : 'small',\n    className: \"\".concat(prefixCls, \"-mode-switch\")\n  }, /*#__PURE__*/React.createElement(_radio.Button, {\n    value: \"month\"\n  }, locale.month), /*#__PURE__*/React.createElement(_radio.Button, {\n    value: \"year\"\n  }, locale.year));\n}\n\nfunction CalendarHeader(props) {\n  var prefixCls = props.prefixCls,\n      fullscreen = props.fullscreen,\n      mode = props.mode,\n      onChange = props.onChange,\n      onModeChange = props.onModeChange;\n  var divRef = React.useRef(null);\n  var sharedProps = (0, _extends2[\"default\"])((0, _extends2[\"default\"])({}, props), {\n    onChange: onChange,\n    fullscreen: fullscreen,\n    divRef: divRef\n  });\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"\".concat(prefixCls, \"-header\"),\n    ref: divRef\n  }, /*#__PURE__*/React.createElement(YearSelect, sharedProps), mode === 'month' && /*#__PURE__*/React.createElement(MonthSelect, sharedProps), /*#__PURE__*/React.createElement(ModeSwitch, (0, _extends2[\"default\"])({}, sharedProps, {\n    onModeChange: onModeChange\n  })));\n}\n\nvar _default = CalendarHeader;\nexports[\"default\"] = _default;"]},"metadata":{},"sourceType":"script"}